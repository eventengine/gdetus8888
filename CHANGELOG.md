
2.3.2К17
------------


1.3.2К17
------------


28.2.2К17
------------
Продолжение работ с тестовым сайтом для переводчика Юлии Туржовой на стеке Анг2 + Бутстрап 4.

26.2.2К17
------------
принудительно удалены все логотипы Pages из песочницы и с продакшена, в раздел ui-jq="unveil" data-src-retina="assets/..."
прописан логотип Гдетуса.
Семвер проекта изменён с βeta v. 1.1.14.6_friendship ==> βeta v. 1.1.15.7_friendship

18.2.2К17
------------
Поиск способов наследования успехом не увенчался, выяснилось что в Ангуларе 2 оно такое же говно что и в первом, то
есть фактически толка от переката ноль, но вроде как найдены собственные костыли. 
https://gist.github.com/aiboy/5eb05395e9e20359bed43c2914ed4bc6 


16.2.2К17
------------
Продолжение изучения Анг2 на основе Тура Героев с углублённым изучением фич и возможностей фреймворка.

Angular 2: angular-cli:18
https://vk.com/codedojo?z=video-104376787_456239165%2Fvideos-104376787%2Fpl_-104376787_-2


9.2.2К17
------------
Первая тестовая сессия. Воссоздание аппликации Tour of Heroes от разработчиков, первая live-трансляция, написание родмапа относительно
Tour of Heroes

2.2.2К17
------------
Ознакомительная сессия. Обсуждаем фреймворк.


30.1.2К17
------------
Завершение разработки проекта gdetus8888 на основе Ангулар и Бутстрап. Создание нового сервера для продолжения работ
на основе Ангулар 2 и Ангулар Материал.
Ченджлог переброшен в новый сервер разработки.

Создан проект "Гамма" - разработка Гдетуса без использования Бутстрапа и Полностью на основе Ангулар 2 и Ангулар Материал
Создан новый сервер разработки gamma

24.1.2К17
------------
Создан (и переработан относительно изначальной версии API проекта:

GET /api/user/:user/friends
DELETE /api/user/:user/friends/:friend
GET /api/user/:user/friend-request/users {where requestType = incoming | outgoing}
POST /api/user/:user/friend-requests {friend}
PATCH /api/user/:user/friend-requests {friend, action=accept|reject}
DELETE /api/user/:user/subscribes/:subscribed


18.1.2К17
------------
βeta v. 1.1.14.4_friendship > βeta v. 1.1.14.6_friendship (фикс адреса http://gdetus.io, www.gdetus.io)

Выяснилось что сайт недоступен при обращении по адресу www.gdetus.io
* решено посредством создания поддомена с адресом www.gdetus.io, IP-адресом боевого сервера и name-записью А
  в админ-панели хостера

Пошагово реализован следующий функционал (в порядке написания):

Действия модели Пользователь (сервер и клиент):

Пользователь1.ОтправитьЗаявкуК(Пользователь2)
Создается заявка в друзья от Пользователь1 к Пользователь2
Если дружба уже существует, то заявка не создается.
1) Создается заявка в друзья от Пользователь1 к Пользователь2

Пользователь1.ПринятьЗаявкуОт(Пользователь2)
Принимается заявка в друзья от Пользователь2 к Пользователь1
При этом:
1) Заявка от Пользователь2 к Пользователь1 удаляется.
2) Создается подписка Пользователь2 на Пользователь1
3) Создается подписка Пользователь1 на Пользователь2
4) Создается дружба Пользователь2 с Пользователь1
5) Создается дружба Пользователь1 с Пользователь2

Пользователь1.ОтклонитьЗаявкуОт(Пользователь2)
Отклоняется заявка в дружбу от Пользователь2 к Пользователь1
При этом:
1) Заявка от Пользователь2 к Пользователь1 удаляется.
2) Создается подписка Пользователь2 на Пользователь1

Пользователь1.УдалитьДруга(Пользователь2)
Удаляется дружба Пользователь1 с Пользователь2
При этом:
1) Удаляется подписка Пользователь1 на Пользователь2
2) Удаляется дружба Пользователь2 с Пользователь1
3) Удаляется дружба Пользователь1 с Пользователь2

Пользователь1.ОтписатьсяОт(Пользователь2)
Отменяется подписка
При этом:
1) Удаляется подписка Пользователь1 на Пользователь2

Пользователь1.ПолучитьСписокДрузей()

Пользователь1.ПолучитьСписокВходящихЗаявок()
Список заявок в друзья от других пользователей к Пользователь1.

Пользователь1.ПолучитьСписокИсходящихЗаявок()
Пользователь1.ПолучитьСписокЗаявокВДрузья()
Список заявок в друзья от Пользователь1 к другим пользователей.


17.1.2К17
------------
доделать json2sql.js (решено)
* примечание: дальнейшая работа по рефактору, дописыванию, переносу этой модели в модУли и т.д.
  назначена на апрель.

Созданы модели:
* Модель Заявки в друзья (сервер)
  Модель Подписка на пользователя (сервер)
  Модель Дружба с пользователем (сервер)

14.1.2К17
------------
Проведён рефакторинг функционала:
- заявка в друзья
- добавление в друзья
- удаление из друзей
- подписка на пользователя
- отписка от пользователя

Утверждён манифест цикла "разработка\рефакторинг": на каждые 3 месяца
разработки\1 месяц рефакторинг, оптимизация, проектировка, техдолг и т.д.

* Даты рефакторинга в 2017 году: весь апрель, весь август, весь декабрь

Файл ТЕХ.ДОЛГ переименован в BACKLOG


Созданы таблицы в БД:
friend_request - Заявки в друзья
user_subscribe - Подписка на пользователя
friendship -  Дружба с пользователем
Таким образом переписано с нуля обращение\хранение и т.д. в БД данных относительно 
заявок в друзья, их принятие\отказ и состояния "подписан на..."


* Первый самостоятельно написанный с нуля модуль. (станет модулем, когда сделаем модулем,
  фактически (относительно сайта) это МОДЕЛЬ.
  Суть: Конвертер JSON в SQL для RESTful протоколов.



11.1.2К17
------------
Переименовать таблицу friend во friendship										  (решено)
Добавить поле Подтверждено (approve) в таблицу friendship                         (решено)
Если не подтверждено, то считается что послана якобы заявка на запрос в друзья
У пользователя кого добавили в друзья запись из friendship будет видна как заявка (решено)
Создать страницу: Список друзей, список заявок в друзья (входящие и исходящие)    (решено)


9.1.2К17
------------
Продолжено написание функционала добавление в друзья.
Написан первичный функционал:
 - Отображение аватар добавленных друзей
 - Общее количество друзей пользователя
 - вывод title добавленных друзей (имя и фамилия человека)
 - удаление пользователя из друзей


5.1.2К17
------------
Начато написание функционала добавления и удаления из друзей.
Подобран плагин на деплой из Гитхаба (а не из облака) через SSH на
production-сервер. (плагин придётся допиливать самим)


1.1.2К17
------------
Усилена криптостойкость ВОССТАНОВЛЕННОГО пароля (надёжность пароля увеличена
за счёт увеличения количества символов (теперь их 11 вместо 8), проверено
сервисом https://2ip.ru/passcheck/)
Принято решение о переходе на Gulp


31.12.2К16
------------
Этап "7й сервер" закрыт полностью - восстановлен и написан ВЕСЬ функционал,
созданный в прототипе на седьмом сервере.

операция ресайза есть, доделать операцию кроппинга фото			      (решено)
Сделать привязку загруженных аватар и аватарПревью к id пользователя. (решено)


21.12.2К16
------------
Клиент.
Воссоздан функционал отображения на карте всех пользователей, разрешивших геолокацию.
Функционал частично рефакторен, переписан и оптимизирован относительно версии в семёрке.


20.12.2К16
------------
Клиент.
Продолжить работы по восстановлению функционала настроек пользователя:
 -  Доделать контроллер по отправке editMainOptionsForm (частично решено)
 -  Разбить файл edit.html - Сделать новый раздел (/forms) для хранения форм приложения в отдельных файлах (решено)
 -  
 


15.12.2К16
------------
- удалена папка /prev
- создана страница сообщений /im и её js-контроллер
- создан класс пользователя User.js + в него вынесена часть кода из passport.js
- 



12.12.2К16
------------
Клиент.
Продолжены работы по восстановлению страницы редактирования профиля (/edit):
- сшить страницу с базой (получить CRUD между сайтом и БД) (решено)
- продолжить работу с контроллером страницы /edit.js

8.12.2К16
------------
Клиент.
Начаты работы по восстановлению страницы редактирования профиля (/edit):

- создана валидная верстка страницы
- создан контроллер страницы
- восстановлен календарь даты рождения
- создана и пропатчена форма выбора пола

Распределение файла README.md: начало создание полноценной вики-документации по всем 
аспектам разработки с нуля (от первых команд на production-серверах до юнит-тестов)

7.12.2К16
------------
Клиент
Если отменить авторизацию и перейти на любую страницу (user, map), то переброса
на login не будет происходить, а должен.												(решено)



5.12.2К16
------------
1) 
Клиент.
Страницу 404 (на клиенте) сшить с ангуларом + определить её поведение.					(решено)



30.11.2К16
------------
Сервер. 
Команду API GET user доработать на получение данных пользователя по его id или useruri. (решено)

Клиент. 
Доработать функцию passport.getUser()
Доработать контроллер UserCtrl. Он должен выводить данные пользователя по id, authenticated, useruri.
																						(решено)
Страница login не должна отображать в title страницы название сайта.					(решено)


29.11.2К16
------------
Клиент. Из контроллера LoginCtrl перенести код регистрации юзера в сервис passport. 	(решено)


28.11.2К16
------------
Попробовать избавиться от # в URL быстрым экспериментальным способом.
$locationProvider.html5Mode(true)
<base href="/"> (решено)

обработка адреса site.ru/user/useruri													(решено)
* теперь произвольно введённый после корневого адреса id или useruri ведёт на
  страницу данного пользователя 

БАГ: при вводе неправильного пароля нотификатор выбрасывает уведомление о том, что пароль неверен. 
     это можно расценить как помощь при попытке взлома аккаунта пользователя. Стоит изменить уведомление
     на "неправильный логи ИЛИ пароль", что затрудняет понимание ситуации в случае преднамеренного взлома.
    																					(решено)

26.11.2К16
------------
Сделать вывод имени авторизованного пользователя и аватара в хедере.					(решено)
* примечание: вопрос относительно бекграунда и аватара как одного файла остается открыт

Сделать команду API - получить данные авторизованного пользователя. (решено)
Отработать технологию создания модальных окон на Ангулар (в разных конфигурациях)		(решено)
* примечание: отработана технология назначения модальных диалогов на страницы сайта,
  но само их проектирование ещё не освоено в полной мере




17.11.2К16
------------
отловить место срабатывания ошибки при вводе в форму восстановления пароля кириллицы и\или спецсимволов 
он выбрасывает окно null (решено) (выставлена кодировка utf8 для поля email в базе данных)
   
восстановлено функционирование модального окна восстановления пароля + уведомления пользователя о
отправке письма




9.11.2К16
------------
починили авторизацию
выставили одинаковое время жизни сессии и авторизации пользователя
доделать функционал "запомнить меня" (решено)
в песочнице установлена та же нода, что и на боевом сервере: 6.9.1




15.10.2К16
------------

Создать команды API login и logout (решено)

Сделать обработчик формы входа в клиенте для авторизации (обработчик должен вызвать
команду API login с введенными пользователем логином и паролем) (решено)
   
Дописать процедуру run в модуле app клиента (assets/main.js) - дописать проверку
авторизации на основе кук, создаваемых passportjs.com и в зависимости от результата
перебрасывать пользователя либо на login либо на /feed (dashboard) (решено)


РАЗОБРАТЬСЯ с app.use(bodyParser.urlencoded({ extended: true })); в req.body не
попадают параметры POST-запроса.			   (решено: Сервис ангуляра $http при
											   POST-запросе параметры кодирует в
											   теле запроса как JSON-данные. Чтобы
											   их обработать пришлось воспользоваться
											   bodyParser.json() вместо bodyParser.urlencoded().)
											   



